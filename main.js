!function(){"use strict";class e{constructor(e,t,s,r,i){this.data=e,this._selector=t,this._handleImageClick=s,this._handleDeleteCard=r,this._handleLikeCard=i,this._cardId=e._id,this.isLiked=e.isLiked}_setEventListeners(){this._setLikeHandler(),this._setDeleteHandler(),this._setImageClickHandler()}getCard(){this._cardEl=document.querySelector(this._selector).content.firstElementChild.cloneNode(!0);const e=this._cardEl.querySelector(".card__image"),t=this._cardEl.querySelector(".card__title");return e.src=this.data.link,e.alt=this.data.name,this._likeBtn=this._cardEl.querySelector(".card__like-button"),this.isLiked&&this._likeBtn.classList.add("card__like-button-active"),t.textContent=this.data.name,this._setEventListeners(),this._cardEl}_setLikeHandler(){this._likeBtn.addEventListener("click",(()=>{this._handleLikeCard(this)}))}_setDeleteHandler(){this._cardEl.querySelector(".card__delete-image").addEventListener("click",(()=>{this._handleDeleteCard(this._cardEl,this._cardId)}))}remove=()=>{this._cardEl.remove(),this._cardEl=null};_setImageClickHandler(){this._cardEl.querySelector(".card__image").addEventListener("click",(()=>{this._handleImageClick(this.data)}))}toggleLike(){this.isLiked?(this.isLiked=!1,this._likeBtn.classList.remove("card__like-button-active")):(this.isLiked=!0,this._likeBtn.classList.add("card__like-button-active")),console.log("TOGGLE LIKE CLICKED")}}class t{constructor(e,t){this._config=e,this._form=t}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this._disabledButton()})),this._setEventListeners()}_setEventListeners(){this._inputElements=Array.from(this._form.querySelectorAll(this._config.inputSelector)),this._submitButton=this._form.querySelector(this._config.submitButtonSelector),this._inputElements.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_checkValidity(){return this._inputElements.every((e=>e.validity.valid))}_disabledButton(){this._submitButton.classList.add(this._config.inactiveButtonClass),this._submitButton.disabled=!0}_enabledButton(){this._submitButton.classList.remove(this._config.inactiveButtonClass),this._submitButton.disabled=!1}_toggleButtonState(){this._checkValidity()?this._enabledButton():this._disabledButton()}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._config.inputErrorClass),t.textContent=e.validationMessage,e.classList.add(this._config.errorClass)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._config.inputErrorClass),t.textContent="",e.classList.remove(this._config.errorClass)}}class s{constructor(e){this._popupElement=document.querySelector(e),this._closeButton=this._popupElement.querySelector(".modal__close-button")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleCloseEscPressDown),this._popupElement.addEventListener("mousedown",this._handleCloseMouseClick)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleCloseEscPressDown),this._popupElement.removeEventListener("mousedown",this._handleCloseMouseClick)}_handleCloseEscPressDown=e=>{"Escape"===e.key&&this.close()};_handleCloseMouseClick=e=>{e.target===e.currentTarget&&this.close()};setEventListeners(){this._closeButton.addEventListener("click",this._handleCloseMouseClick)}}class r extends s{constructor(e,t){super(e),this._handleFormSubmit=t,this._formEl=this._popupElement.querySelector(".modal__form"),this._submitBtn=this._popupElement.querySelector(".modal__button"),this._submitBtnText=this._submitBtn.textContent}_getInputValues(){const e={};return this._formEl.querySelectorAll(".modal__field").forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._formEl.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}close(){super.close(),this._formEl.reset()}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";console.log("boolean isLoading: ",e),console.log("button Text before assignment: ",this._submitBtn.textContent),this._submitBtn.textContent=e?t:this._submitBtnText,console.log("button Text after assignment: ",this._submitBtn.textContent)}}class i{constructor(e,t){let{items:s,renderer:r}=e;this._renderer=r,this._renderItems=s,this._container=document.querySelector(t)}renderItems(){this._renderItems.forEach((e=>{this._renderer(e)}))}addItems(e){this._container.prepend(e)}}const o=document.querySelector("#js-profile-edit-button"),n=document.querySelector("#js-profile-edit-modal"),l=n.querySelector("#js-profile-close-modal"),a=document.querySelector("#js-profile-title"),d=document.querySelector("#js-profile-description"),c=document.querySelector("#js-profile-title-input"),u=document.querySelector("#js-profile-description-input"),h=n.querySelector("#js-modal-edit-form"),m=document.querySelector("#js-card-template").content.firstElementChild,p=document.querySelector("#js-card__list"),_=document.querySelector("#js-add-card-modal"),f=_.querySelector("#js-modal-add-card-form"),E=f.querySelector("#js-add-card-title-input"),g=f.querySelector("#js-add-card-description-input"),v=document.querySelector("#js-profile-add-button"),L=_.querySelector("#js-add-card-close-modal");var b={profileEditButton:o,profileEditModal:n,profileCloseModal:l,profileTitle:a,profileDescription:d,profileTitleInput:c,profileDescriptionInput:u,profileEditForm:h,cardTemplate:m,cardListElement:p,addCardModal:_,addCardForm:f,newCardTitleInput:E,newCardUrlInput:g,profileAddCardButton:v,addCardmodalCloseButton:L,imagePreviewModal:document.querySelector("#js-image-preview-modal"),imageClosePreviewModal:document.querySelector("#js-image-preview-close-modal"),config:{formSelector:".modal__form",inputSelector:".modal__field",submitButtonSelector:".modal__button",inactiveButtonClass:".modal__button_disabled",inputErrorClass:"modal__error",errorClass:"modal__error_visible"},initialCards:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],htmlIds:{cardList:"#js-card__list",cardTemplate:"#js-card-template",addCardPopup:"#js-add-card-modal",imagePreviewPopup:"#js-image-preview-modal",profileEditPopup:"#js-profile-edit-modal",profileTitle:"#js-profile-title",profileDescription:"#js-profile-description"}};!function(e){const s=document.querySelectorAll(b.config.formSelector);let r=Array.from(s);r=r.filter((e=>"js-delete-form"!==e.id)),r.forEach((s=>{new t(e,s).enableValidation()}))}(b.config);const C=new class{constructor(e){let{titleSelector:t,descriptionSelector:s,profilePictureSelector:r}=e;this._titleElement=document.querySelector(t),this._descriptionElement=document.querySelector(s),this._profilePictureElement=document.querySelector(r)}getUserInfo(){return this._userInfo={name:this._titleElement.textContent,description:this._descriptionElement.textContent,avatar:this._profilePictureElement.src},console.log("Inside getUSerInfo: ",this._userInfo),this._userInfo}setUserInfo(e){let{name:t,description:s}=e;this._titleElement.textContent=t,this._descriptionElement.textContent=s}setProfilePicture(e){let{profilePicture:t}=e;this._profilePictureElement.src=t}}({titleSelector:b.htmlIds.profileTitle,descriptionSelector:b.htmlIds.profileDescription,profilePictureSelector:".profile__image"}),S=new class extends s{constructor(e){super(e),this._popupForm=this._popupElement.querySelector("#js-delete-form"),this._submitBtn=this._popupElement.querySelector(".modal__button"),this._submitBtnText=this._submitBtn.textContent}setSubmitAction(e){this._handleSubmitForm=e}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmitForm()})),super.setEventListeners()}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Deleting...";this._submitBtn.textContent=e?t:this._submitBtnText}}("#js-card-delete-modal"),y=new r("#js-edit-profile-picture-modal",(function(e){y.renderLoading(!0),I.updateUserImage({avatar:e.url}).then((t=>{C.setProfilePicture({profilePicture:e.url}),y.close()})).catch((e=>{console.error("Picture Not Update",e)})).finally((()=>{y.renderLoading(!1,"Save")}))}));let k;const I=new class{constructor(e){this._baseUrl=e.baseUrl,this._header=e.headers}_handleResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{method:"GET",headers:this._header}).then(this._handleResponse)}createCard(e){let{name:t,link:s}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._header,body:JSON.stringify({name:t,link:s})}).then(this._handleResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._header}).then(this._handleResponse)}likeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._header}).then(this._handleResponse)}disLikeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._header}).then(this._handleResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{method:"GET",headers:this._header}).then(this._handleResponse)}updateUserInfo(e,t){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._header,body:JSON.stringify({name:e,about:t})})}updateUserImage(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._header,body:JSON.stringify(e)}).then(this._handleResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"d50bb54b-1efc-4b8a-a5b1-3d5c72d6a1b0","Content-Type":"application/json"}});function w(e,t){S.open(),S.setSubmitAction((()=>{S.renderLoading(!0),I.deleteCard(t).then((()=>{S.close(),e.remove()})).catch((e=>{console.error(e)})).finally((()=>{S.renderLoading(!1,"Yes")}))}))}function j(e){e.isLiked?I.disLikeCard(e.data._id).then((t=>{e.toggleLike()})).catch((e=>{console.error(e)})):I.likeCard(e.data._id).then((t=>{console.log("Inside api.likeCard"),e.toggleLike()})).catch((e=>{console.error(e)}))}I.getInitialCards().then((e=>{k=new i({items:e,renderer:U},b.htmlIds.cardList),k.renderItems()})).catch((e=>{console.error(`Error getting cards: ${e} `)})),I.getUserInfo().then((e=>{C.setUserInfo({name:e.name,description:e.about}),C.setProfilePicture({profilePicture:e.avatar})})).catch((e=>{console.log("ERROR: ",e),console.error(e)})),S.setEventListeners(),y.setEventListeners(),document.querySelector("#js-edit-profile-overlay_img").addEventListener("click",(()=>{console.log("edit profile Picture Form: ",y),y.open()}));const q=new r(b.htmlIds.profileEditPopup,(function(e){q.renderLoading(!0),I.updateUserInfo(e.title,e.description).then((()=>{C.setUserInfo({name:e.title,description:e.description}),q.close()})).catch((e=>{console.error(`Error updating new information: ${e}`)})).finally((()=>{q.renderLoading(!1,"Save")}))}));q.setEventListeners(),b.profileEditButton.addEventListener("click",(()=>{const e=C.getUserInfo();b.profileTitleInput.value=e.name,b.profileDescriptionInput.value=e.description,q.open()}));const B=new r(b.htmlIds.addCardPopup,(function(e){B.renderLoading(!0),I.createCard({name:e.title,link:e.url}).then((e=>{U(e),B.close()})).catch((e=>{console.error(`Error adding new Card: ${e}`)})).finally((()=>{B.renderLoading(!1,"Save")}))}));B.setEventListeners(),b.profileAddCardButton.addEventListener("click",(()=>{B.open()}));const P=new class extends s{constructor(e){super(e),this._img=this._popupElement.querySelector("#js-card__image"),this._title=this._popupElement.querySelector("#js-image-preview-card-title")}open(e){this._img.src=e.link,this._img.alt=e.name,this._title.textContent=e.name,super.open()}}(b.htmlIds.imagePreviewPopup);function T(e){P.open(e)}function U(t){const s=new e(t,b.htmlIds.cardTemplate,T,w,j).getCard();k.addItems(s)}P.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QzdDZixLQUFLcU4sT0FBU3JOLEtBQUt3RSxjQUFjekQsY0FDaEMsK0JBRUYsQ0FPQTJELElBQUFBLENBQUsvRSxHQUNKSyxLQUFLb04sS0FBSy9MLElBQU0xQixFQUFLMkIsS0FDckJ0QixLQUFLb04sS0FBSzdMLElBQU01QixFQUFLNkIsS0FDckJ4QixLQUFLcU4sT0FBT3pMLFlBQWNqQyxFQUFLNkIsS0FDL0I4RCxNQUFNWixNQUNQLEdKb0xxQ2tFLEVBQU1QLFFBQVFHLG1CQVFwRCxTQUFTM0ksRUFBaUJvTixHQUN6QkUsRUFBV3pJLEtBQUt1SSxFQUNqQixDQVdBLFNBQVNqQixFQUFXck0sR0FDbkIsTUFPTTJOLEVBUFUsSUFBSTdOLEVBQ25CRSxFQUNBaUosRUFBTVAsUUFBUVosYUFDZDVILEVBQ0FDLEVBQ0E4TSxHQUUyQmhNLFVBQzVCcUssRUFBYWxFLFNBQVN1RyxFQUN2QixDQTlCQUgsRUFBV2pJLG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvVXRpbHMvQ29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cERlbGV0ZUNvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDYXJkIHtcclxuXHQvKlxyXG4gICAgQ25zdHJ1Y3RvcjpcclxuICAgIFBhcmFtczpcclxuICAgIGRhdGE6IG9iaiBvbnRhaW5pZyBjYXJkIHRleHQgYW5kIGltZyBsaW5rXHJcbiAgICBjYXJkU2VsZWN0b3I6IHNlbGVjdG9yIGlkIGkuZSBqcy1zb21ldGhpbmcgb3Jyb3Nwb25kaW5nIDx0ZW1wbGF0ZT4gZWxlbWVudFxyXG4gICAgaGFuZGxlSW1hZ2VDbGljazogZnVuYyB0aGF0IGhhbmRsZXMgb3BlbmluZyBvZiBwcmV2aWV3IG1vZGFsXHJcblx0aGFuZGxlRGVsZXRlQ2FyZDogZnVuYyBoYW5kbGVzIHRoZSBkZXRldGlvbiBvZiBjYXJkXHJcblx0aGFuZGxlTGlrZUNhcmQ6IGZ1bmMgdG9nZ2xlcyBsaWtlL3VubGlrZSBvZiBjYXJkXHJcblxyXG4gICAgRGVzY3JpcHRpb246ICB0YWtlcyBkYXRhIG9iaiB0aGF0IGNvbnRhaW5zIG5hbWUgYW5kIGltZyBsaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGFrZXMgYSBzdHIgc2VsZWN0b3IsIHRoZSBjYXJkIHRlbXBsYXRlIHRhZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRha2VzIGFuIGltYWdlIGNsaWNrIGhhbmRsZXIgIDwtLSBlbGFib3JhdGUgb24gdGhpcyBsYXRlclxyXG4qL1xyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0ZGF0YSxcclxuXHRcdGNhcmRTZWxlY3RvcixcclxuXHRcdGhhbmRsZUltYWdlQ2xpY2ssXHJcblx0XHRoYW5kbGVEZWxldGVDYXJkLFxyXG5cdFx0aGFuZGxlTGlrZUNhcmRcclxuXHQpIHtcclxuXHRcdHRoaXMuZGF0YSA9IGRhdGE7XHJcblx0XHR0aGlzLl9zZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuXHRcdHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG5cdFx0dGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7XHJcblx0XHR0aGlzLl9oYW5kbGVMaWtlQ2FyZCA9IGhhbmRsZUxpa2VDYXJkO1xyXG5cdFx0dGhpcy5fY2FyZElkID0gZGF0YS5faWQ7XHJcblx0XHR0aGlzLmlzTGlrZWQgPSBkYXRhLmlzTGlrZWQ7XHJcblx0fSAvL2VuZCBjb250cnVjdG9yXHJcblxyXG5cdC8qXHJcbiAgICBQYXJhbXM6IE5vbmVcclxuICAgIERlc2NyaXB0aW9uOiBzZXRzIGFsbCB0aGUgZXZlbnQgbGlzdGVuZXJzIG9uIHRoZSBjYXJkIGluY2x1ZGluZyB0aGUgZGVsZXRlIGJ1dHRvbiwgdGhlIGxpa2UgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBpbWFnZSBjbGlja1xyXG5cdCovXHJcblx0X3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG5cdFx0Ly8uY2FyZF9fbGlrZS1idXRvblxyXG5cdFx0dGhpcy5fc2V0TGlrZUhhbmRsZXIoKTtcclxuXHJcblx0XHQvLy5jYXJkX19kZWxldGUtaW1hZ2VcclxuXHRcdHRoaXMuX3NldERlbGV0ZUhhbmRsZXIoKTtcclxuXHJcblx0XHQvLy5jYXJkX19pbWFnZVxyXG5cdFx0dGhpcy5fc2V0SW1hZ2VDbGlja0hhbmRsZXIoKTtcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0LyoqXHJcblx0ICogUGFyYW1zOiBOb25lXHJcblx0ICogRGVzY3JpcHRpb246IGdldCBjYXJkIHNob3dzIHRoZSBjYXJkIG9uIHRoZSBodG1sIHdpdGggaXRzIGVsZW1lbnRzIG9mIHRoZSBjYXJkIHRpdGxlLCBsaWtlXHJcblx0ICogICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLCBjYXJkIGltYWdlIGFuZCB0aGUgZGVsZXRlIGJ1dHRvblxyXG5cdCAqIHJldHVybjogcmV0dXJuIHRoZSBjYXJkIGVsZW1lbnQgZm9yIGRpc3BsYXkgb24gdGhlIGh0bWxcclxuXHQgKi9cclxuXHRnZXRDYXJkKCkge1xyXG5cdFx0Ly8xLiBnZXQgY2FyIHZpZXdcclxuXHRcdHRoaXMuX2NhcmRFbCA9IGRvY3VtZW50XHJcblx0XHRcdC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9yKVxyXG5cdFx0XHQuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG5cdFx0Y29uc3QgY2FyZEltYWdlRWxlbWVudCA9IHRoaXMuX2NhcmRFbC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG5cdFx0Y29uc3QgY2FyZFRpdGxlRWxlbWVudCA9IHRoaXMuX2NhcmRFbC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xyXG5cdFx0Y2FyZEltYWdlRWxlbWVudC5zcmMgPSB0aGlzLmRhdGEubGluaztcclxuXHRcdGNhcmRJbWFnZUVsZW1lbnQuYWx0ID0gdGhpcy5kYXRhLm5hbWU7XHJcblx0XHR0aGlzLl9saWtlQnRuID0gdGhpcy5fY2FyZEVsLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XHJcblx0XHRpZiAodGhpcy5pc0xpa2VkKSB7XHJcblx0XHRcdHRoaXMuX2xpa2VCdG4uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uLWFjdGl2ZVwiKTtcclxuXHRcdH0gLy9lbmQgaWZcclxuXHJcblx0XHRjYXJkVGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5kYXRhLm5hbWU7XHJcblxyXG5cdFx0Ly8yLiBzZXQgZXZlbnQgbGlzdGVuZXJzXHJcblx0XHR0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHRcdC8vMy4gcmV0dXJuIGNhcmRcclxuXHRcdHJldHVybiB0aGlzLl9jYXJkRWw7XHJcblx0fSAvL2VuZCBmdW5jXHJcblxyXG5cdC8vSGVscGVyIEZ1bmN0aW9uc1xyXG5cdC8qKlxyXG5cdCAqIFBhcmFtczogIE5vbmVcclxuXHQgKiBEZXNjcmlwdGlvbjogZnVuY3Rpb24gdXNlZCB0byBoZWxwIHRoZSBzZXQgZXZlbnQgbGlzdGVuZXJzIGZ1bmN0aW9uIHRvIHRvZ2dsZSB0aGUgbGlrZSBidXR0b25cclxuXHQgKi9cclxuXHRfc2V0TGlrZUhhbmRsZXIoKSB7XHJcblx0XHQvL2NvbnNvbGUubG9nKHRoaXMuX2xpa2VCdG4pO1xyXG5cdFx0dGhpcy5fbGlrZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLl9oYW5kbGVMaWtlQ2FyZCh0aGlzKTtcclxuXHRcdFx0Ly9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbi1hY3RpdmVcIik7XHJcblx0XHR9KTtcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0LyoqXHJcblx0ICogUGFyYW1zOiAgTm9uZVxyXG5cdCAqIERlc2NyaXB0aW9uOiBmdW5jdGlvbiB1c2VkIHRvIGhlbHAgdGhlIHNldCBldmVudCBsaXN0ZW5lcnMgZnVuY3Rpb24gcmVtb3ZlIHRoZSBjYXJkXHJcblx0ICogICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCBmcm9tIHRoZSBodG1sXHJcblx0ICovXHJcblx0X3NldERlbGV0ZUhhbmRsZXIoKSB7XHJcblx0XHRjb25zdCBkZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWwucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtaW1hZ2VcIik7XHJcblx0XHRkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdFx0dGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzLl9jYXJkRWwsIHRoaXMuX2NhcmRJZCk7XHJcblx0XHR9KTtcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0cmVtb3ZlID0gKCkgPT4ge1xyXG5cdFx0dGhpcy5fY2FyZEVsLnJlbW92ZSgpO1xyXG5cdFx0dGhpcy5fY2FyZEVsID0gbnVsbDtcclxuXHR9OyAvL2VuZCBmdW5jXHJcblxyXG5cdC8qKlxyXG5cdCAqIFBhcmFtczpcdE5vbmVcclxuXHQgKiBEZXNjcmlwdGlvbjpcdGZ1bmMgY2FsbGVkIGJ5IHNldCBldmVudCBsaXN0ZW5lcnMgYW5kIHRoaXMgaGFuZGxlcyB3aGF0XHJcblx0ICogXHRcdFx0XHRcdFx0aGFwcGVucyB3aGVuIGltYWdlIGNsaWNrZWRcclxuXHQgKiBcdFx0XHRcdFx0XHRUaGlzIGZ1bmMgcmVmZXJzIHRvIHRoZSBpbWFnZSBjbGljayBvbiB0aGUgQ2FyZFxyXG5cdCAqIHJldHVybjpcdE5vbmVcclxuXHQgKi9cclxuXHRfc2V0SW1hZ2VDbGlja0hhbmRsZXIoKSB7XHJcblx0XHQvLy5jYXJkX19pbWFnZVxyXG5cdFx0Y29uc3QgY2FyZEltYWdlRWxlbWVudCA9IHRoaXMuX2NhcmRFbC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG5cdFx0Ly8gVXNlIHRoZSBzdG9yZWQgaGFuZGxlSW1hZ2VDbGljayBmdW5jdGlvblxyXG5cdFx0Y2FyZEltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMuZGF0YSk7XHJcblx0XHR9KTtcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0dG9nZ2xlTGlrZSgpIHtcclxuXHRcdGlmICghdGhpcy5pc0xpa2VkKSB7XHJcblx0XHRcdHRoaXMuaXNMaWtlZCA9IHRydWU7XHJcblx0XHRcdHRoaXMuX2xpa2VCdG4uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uLWFjdGl2ZVwiKTtcclxuXHRcdH0gLy9lbmQgaWZcclxuXHRcdGVsc2Uge1xyXG5cdFx0XHR0aGlzLmlzTGlrZWQgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy5fbGlrZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b24tYWN0aXZlXCIpO1xyXG5cdFx0fSAvL2VuZCBlbHNlXHJcblxyXG5cdFx0Y29uc29sZS5sb2coXCJUT0dHTEUgTElLRSBDTElDS0VEXCIpOyAvL2RlYnVnZ2luZ1xyXG5cdH0gLy9lbmQgZnVuY1xyXG59IC8vZW5kIGNsYXNzXHJcbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuXHQvKlxyXG4gIFBhcm1zOiBcclxuICBmb3JtRWxlbWVudFxyXG4gIHRoZSBzZXR0aW5nIHByb3ZpZGVkXHJcbiAgKi9cclxuXHRjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XHJcblx0XHR0aGlzLl9jb25maWcgPSBjb25maWc7XHJcblx0XHQvL2NvbnNvbGUubG9nKGNvbmZpZyk7XHJcblx0XHR0aGlzLl9mb3JtID0gZm9ybUVsZW1lbnQ7IC8vSFRNTCBlbGVtZW50XHJcblx0fSAvL2VuZCBjb25zdHJ1Y3RvclxyXG5cclxuXHRlbmFibGVWYWxpZGF0aW9uKCkge1xyXG5cdFx0dGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHRoaXMuX2Rpc2FibGVkQnV0dG9uKCk7XHJcblx0XHR9KTtcclxuXHRcdHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblx0fSAvL2VuZCBmdW5jXHJcblxyXG5cdF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuXHRcdHRoaXMuX2lucHV0RWxlbWVudHMgPSBBcnJheS5mcm9tKFxyXG5cdFx0XHR0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpXHJcblx0XHQpO1xyXG5cdFx0dGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XHR0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuXHRcdCk7IC8vKFwiI2pzLW1vZGFsX19idXR0b25cIik7XHJcblxyXG5cdFx0dGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcblx0XHRcdGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldnQpID0+IHtcclxuXHRcdFx0XHQvLyBsb29wIHRocm91Z2ggYWxsIGlucHV0cyB0byBzZWUgaWYgdGhleSBhcmUgdmFsaWRcclxuXHRcdFx0XHR0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XHJcblx0XHRcdFx0dGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0LyoqXHJcblx0ICogUGFyYW1zOiBOb25lXHJcblx0ICogRGVzY3JpcHRpb246XHRDaGVka3MgdGhlIGlucHV0IHRleHQgb2YgdGhlIHBsYWNlIG5hbWUgYW5kIHRoZSB1cmxcclxuXHQgKiByZXR1cm5zOiBib29sZWFuIHZhbHVlIHRydWUvZmFsc2VcclxuXHQgKi9cclxuXHRfY2hlY2tWYWxpZGl0eSgpIHtcclxuXHRcdGNvbnN0IGlzVmFsaWQgPSB0aGlzLl9pbnB1dEVsZW1lbnRzLmV2ZXJ5KFxyXG5cdFx0XHQoaW5wdXQpID0+IGlucHV0LnZhbGlkaXR5LnZhbGlkXHJcblx0XHQpO1xyXG5cdFx0cmV0dXJuIGlzVmFsaWQ7XHJcblx0fSAvL2VuZCBmdW5jXHJcblxyXG5cdC8qKlxyXG5cdCAqIFBhcmFtczogTm9uZVxyXG5cdCAqIERlc2NyaXB0aW9uOiAgIGRpc2FibGUgYnV0dG9uIHVzZWQgYnkgdG9nZ2xlIGJ1dHRvbiBzdGF0ZVxyXG5cdCAqIHJldHVybjogIE5vbmVcclxuXHQgKi9cclxuXHRfZGlzYWJsZWRCdXR0b24oKSB7XHJcblx0XHR0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcblx0XHR0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG5cdH0gLy9lbmQgZnVuY1xyXG5cclxuXHQvKipcclxuXHQgKiBQYXJhbXM6IE5vbmVcclxuXHQgKiBEZXNjcmlwdGlvbjogICBlbmFibGUgYnV0dG9uIHVzZWQgYnkgdG9nZ2xlIGJ1dHRvbiBzdGF0ZVxyXG5cdCAqIHJldHVybjogIE5vbmVcclxuXHQgKi9cclxuXHRfZW5hYmxlZEJ1dHRvbigpIHtcclxuXHRcdHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuXHRcdHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cdH0gLy9lbmQgZnVuY1xyXG5cclxuXHQvKipcclxuXHQgKiBQYXJhbXM6ICBOb25lXHJcblx0ICogRGVzY3JpcHRpb246IGNoZWNrcyB0aGUgdmFsZGl0eSBvZiB0aGUgaW5wdXQgYnV0dG9uIHN0YWUgaXMgZWl0aGVyIGVuYWJsZWQgb3IgRGlzYWJsZWRcclxuXHQgKiByZXR1cm46ICBOb25lXHJcblx0ICovXHJcblx0X3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG5cdFx0Y29uc3QgaXNWYWxpZCA9IHRoaXMuX2NoZWNrVmFsaWRpdHkoKTtcclxuXHJcblx0XHQvL2lmIGV2ZXJ5IGlucHV0IHZhbGlkLCBlbmFibGUgYnV0dG9uXHJcblx0XHRpZiAoaXNWYWxpZCkge1xyXG5cdFx0XHR0aGlzLl9lbmFibGVkQnV0dG9uKCk7XHJcblx0XHR9IC8vZW5kIGlmXHJcblx0XHQvL2lmIGFueSBpbnB1dCBpbi12YWxpZCBkaXNhYmxlIGJ1dHRvblxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdHRoaXMuX2Rpc2FibGVkQnV0dG9uKCk7XHJcblx0XHR9IC8vZW5kIGVsc2VcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0LyoqXHJcblx0ICogUGFyYW1zOiAgaW5wdXQgZWxlbWVudHMsIHRleHQgaW5wdXRcclxuXHQgKiBEZXNjcmlwdGlvbjogdGFrZXMgdGhlIHRleHQgaW5wdXQgYW5kIGNoZWNrcyB0aGUgdmFsaWRpdHkgYW5kIHNob3dzIG9yIGhpZGUgZXJyb3IgcmVzcGVjdGl2ZWx5XHJcblx0ICogcmV0dXJuOiAgTm9uZVxyXG5cdCAqL1xyXG5cdF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbHMpIHtcclxuXHRcdC8vaWYgaW5wdXQgIXZhbGlkXHJcblx0XHRpZiAoIWlucHV0RWxzLnZhbGlkaXR5LnZhbGlkKSB7XHJcblx0XHRcdHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxzKTtcclxuXHRcdH0gLy9lbmQgaWZcclxuXHRcdGVsc2Uge1xyXG5cdFx0XHR0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVscyk7XHJcblx0XHR9IC8vZW5kIGVsc2VcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0LyoqXHJcbiAgICpQYXJhbXM6IGlucHV0IGVsZW1lbnRcclxuICAgRGVzY3JpcHRpb246IHNob3dzIGVycm9yIG1lc3NhZ2UgYW5kIGFkZHMgb24gZXJyb3IgY2xhc3NcclxuICAgKnJldHVybjogTm9uZSBcclxuICAgKi9cclxuXHRfc2hvd0lucHV0RXJyb3IoaW5wdXRFbCkge1xyXG5cdFx0Y29uc3QgZXJyb3JNZXNzYWdlRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcclxuXHRcdFx0YCMke2lucHV0RWwuaWR9LWVycm9yYFxyXG5cdFx0KTtcclxuXHRcdGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuXHRcdC8vZ2V0IHZhbGlkYXRpb24gbXNnXHJcblx0XHQvL2Rpc3BsYXkgZXJyIG1zZ1xyXG5cdFx0ZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XHJcblx0XHQvL2FkZCBlcnJvciBjbGFzcyB0byBpbnB1dFxyXG5cdFx0aW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0LyoqXHJcblx0ICogUGFyYW1zOiAgaW5wdXQgZWxlbWVudFxyXG5cdCAqIERlc2NyaXB0aW9uOiBoaWRlcyB0aGUgaW5wdXQgZXJyb3IgYW5kIHJlbW92ZXMgZXJyb3IgY2xhc3NcclxuXHQgKiByZXR1cm46ICBOb25lXHJcblx0ICovXHJcblx0X2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuXHRcdGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdGAjJHtpbnB1dEVsLmlkfS1lcnJvcmBcclxuXHRcdCk7XHJcblx0XHRpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcblx0XHRlcnJvck1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuXHRcdGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XHJcblx0fSAvL2VuZCBmdW5jXHJcbn0gLy9lbmQgY2xhc3NcclxuIiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcclxuXHRjb25zdHJ1Y3Rvcihwb3BVcFNlbGVjdG9yKSB7XHJcblx0XHR0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcFVwU2VsZWN0b3IpO1xyXG5cdFx0dGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdFx0XCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiXHJcblx0XHQpO1xyXG5cdH0gLy9lbmQgY29udHJ1Y3RvclxyXG5cclxuXHRvcGVuKCkge1xyXG5cdFx0dGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVDbG9zZUVzY1ByZXNzRG93bik7XHJcblx0XHR0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJtb3VzZWRvd25cIixcclxuXHRcdFx0dGhpcy5faGFuZGxlQ2xvc2VNb3VzZUNsaWNrXHJcblx0XHQpO1xyXG5cdH0gLy9lbmQgZnVuY1xyXG5cclxuXHQvL2Nsb3NlIGVkaXQgcHJvZmlsZSBwb3AgdXAvbW9kYWxcclxuXHRjbG9zZSgpIHtcclxuXHRcdHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlQ2xvc2VFc2NQcmVzc0Rvd24pO1xyXG5cdFx0dGhpcy5fcG9wdXBFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwibW91c2Vkb3duXCIsXHJcblx0XHRcdHRoaXMuX2hhbmRsZUNsb3NlTW91c2VDbGlja1xyXG5cdFx0KTtcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0LypcclxucGFyYW06IHRha2VzIHRoZSBldmVudCBpLmUga2V5IHByZXNzZWRcclxuRGVzY3JpcHRpb246IGdldHMgdGhlIG1vZGFsX29wZW5lZCBjbGFzcyBhbmRcclxuXHRcdFx0Y2hlY2tzIGlmIHRoZSBlc2Mga2V5IHByZXNzZWQgb25seSBcclxuXHRcdFx0dGhhbiBjbG9zZSB0aGUgcG9wIHVwL21vZGFsIFxyXG4qL1xyXG5cdF9oYW5kbGVDbG9zZUVzY1ByZXNzRG93biA9IChldnQpID0+IHtcclxuXHRcdGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcblx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdH0gLy9lbmQgaWZcclxuXHR9OyAvL2VuZCBmdW5jXHJcblxyXG5cdC8qXHJcblBhcmFtOlx0dGFrZXMgdGhlIGV2ZW50IGkuZSBtb3VzZSBjbGljayBcclxuRGVzY3JpcHRpb246IGNsb3NlcyBwb3AgdXAvIG1vZGFsIHdoZW4gY2xpY2tlZCBvdXRzaWRlIGZvcm0gXHJcbiovXHJcblx0X2hhbmRsZUNsb3NlTW91c2VDbGljayA9IChldnQpID0+IHtcclxuXHRcdGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xyXG5cdFx0XHR0aGlzLmNsb3NlKCk7XHJcblx0XHR9IC8vZW5kIGlmXHJcblx0fTsgLy9lbmQgZnVuY1xyXG5cclxuXHRzZXRFdmVudExpc3RlbmVycygpIHtcclxuXHRcdHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY2xpY2tcIixcclxuXHRcdFx0dGhpcy5faGFuZGxlQ2xvc2VNb3VzZUNsaWNrXHJcblx0XHQpO1xyXG5cdH0gLy9lbmQgZnVuY1xyXG59IC8vZW5kIGNsYXNzXHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG5cdC8qKlxyXG5cdCAqIHBhcmFtOiBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0XHJcblx0ICogRGVzY3JpcHRpb246XHRjb25zdHJ1Y3RvciB0YWtlcyBhIHBvcCB1cCBzZWxlY3RvciBmcm9tIGh0bWwgLm1vZGFsX19mb3JtXHJcblx0ICogXHRcdFx0XHRcdFx0YW5kIGhhbmRsZXMgdGhlIHN1Ym1pdCBvZiBmb3JtXHJcblx0ICovXHJcblx0Y29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG5cdFx0c3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblx0XHR0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuXHRcdHRoaXMuX2Zvcm1FbCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5cdFx0dGhpcy5fc3VibWl0QnRuID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcclxuXHRcdHRoaXMuX3N1Ym1pdEJ0blRleHQgPSB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQ7XHJcblx0XHRcclxuXHR9IC8vZW5kIGNvbnN0XHJcblxyXG5cdC8qKlxyXG5cdCAqIERlc2NyaXB0aW9uOlx0Y29sbGVjdHMgZGF0YSBmcm9tIGFsbCB0aGUgaW5wdXQgZmllbGRzIGFuZCByZXR1cm5zXHJcblx0ICogXHRcdFx0XHRcdFx0IGl0IGFzIGFuIG9iamVjdC4gVGhpcyBkYXRhIHNob3VsZCB0aGVuIGJlIHBhc3NlZCB0b1xyXG5cdCAqIFx0XHRcdFx0XHRcdHRoZSBzdWJtaXNzaW9uIGhhbmRsZXIgYXMgYW4gYXJndW1lbnQuXHJcblx0ICogcmV0dXJuOlx0aW5wdXRWYWx1ZXNcclxuXHQgKi9cclxuXHRfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcblx0XHQvL2dhdGhlciBpbnB1dCB2YWx1ZXNcclxuXHRcdGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcblx0XHRjb25zdCBpbnB1dHMgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9fZmllbGRcIik7XHJcblx0XHRpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuXHRcdFx0aW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIGlucHV0VmFsdWVzO1xyXG5cdH0gLy9lbmQgZnVuY1xyXG5cclxuXHQvKipcclxuXHQgKiBEZXNjcmlwdGlvbjpcdCBvdmVycmlkZXMgdGhlIHNldEV2ZW50TGlzdGVuZXJzKCkgcGFyZW50IG1ldGhvZFxyXG5cdCAqIFx0XHRcdFx0XHRcdCBhZGRzIGEgc3VibWl0IGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBmb3JtIGFuZCBjYWxsXHJcblx0ICogXHRcdFx0XHRcdFx0IHRoZSBzZXRFdmVudExpc3RlbmVycygpIG1ldGhvZCBvZiB0aGUgcGFyZW50IGNsYXNzLlxyXG5cdCAqL1xyXG5cdHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG5cdFx0c3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHRcdHRoaXMuX2Zvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcblx0XHR9KTtcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0LyoqXHJcblx0ICogRGVzY3JpcHRpb246XHRjYWxscyB0aGUgcGFyZW50IGNsYXNzIGNsb3NlIGZ1bmN0aW9uIGFuZCByZXNldCB0aGUgZm9ybSBhZnRlciBjbG9zZVxyXG5cdCAqL1xyXG5cdGNsb3NlKCkge1xyXG5cdFx0c3VwZXIuY2xvc2UoKTtcclxuXHRcdHRoaXMuX2Zvcm1FbC5yZXNldCgpO1xyXG5cdH0gLy9lbmQgZnVuY1xyXG5cclxuXHRcclxuXHQvKipcclxuXHQgKiBQYXJhbXM6IGlzTG9hZGluZywgbG9hZGluZ1RleHRcclxuXHQgKiBEZXNjcmlwdGlvbjpcdGlzTG9hZGluZyBpcyBhIGJvb2xlYW4gdmFsdWUgdXNlZCB0byBjaGFuZ2UgdGhlIHRleHQgb2YgdGhlIHN1Ym1pdCBidXR0b24gd2hlbiBjYWxsc1xyXG5cdCAqIFx0XHRcdFx0XHRcdG1hZGUgdG8vZnJvbSBBcGlcclxuXHQgKiBcdFx0XHRcdFx0XHRsb2FkaW5nVGV4dCBpcyBhIHN0cmluZyB0aGF0IGxldHMgdGhlIHVzZXIga25vdyB0aGF0IHJlcXVlc3QgaXMgYmVpbmcgd29ya2VkIG9uXHJcblx0ICogXHRcdFx0XHRcdFx0aW4gdGhlIGJhY2tcclxuXHQgKi9cclxuXHRyZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiKSB7XHJcblx0XHRjb25zb2xlLmxvZyhcImJvb2xlYW4gaXNMb2FkaW5nOiBcIiwgaXNMb2FkaW5nKTtcclxuXHRcdGNvbnNvbGUubG9nKFwiYnV0dG9uIFRleHQgYmVmb3JlIGFzc2lnbm1lbnQ6IFwiLCB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQpO1xyXG5cdFx0XHJcblx0XHRpZiAoIWlzTG9hZGluZykge1xyXG5cdFx0XHR0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdG5UZXh0O1xyXG5cdFx0fSAvL2VuZCBpZlxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdHRoaXMuX3N1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xyXG5cdFx0fSAvL2VuZCBlbHNlXHRcclxuXHRcdGNvbnNvbGUubG9nKFwiYnV0dG9uIFRleHQgYWZ0ZXIgYXNzaWdubWVudDogXCIsIHRoaXMuX3N1Ym1pdEJ0bi50ZXh0Q29udGVudCk7XHJcblx0XHRcclxuXHRcdFxyXG5cdH0gLy9lbmQgZnVuY1xyXG5cclxufSAvL2VuZCBjbGFzc1xyXG4iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XHJcblx0LyoqXHJcblx0ICogcGFyYW06IHtpdGVtcywgcmVuZGVyZXJ9LCBjb250YWluZXJTZWxlY3RvclxyXG5cdCAqIERlc2NyaXB0aW9uOlx0IFRoZSBmaXJzdCBwYXJhbWV0ZXIgb2YgaXRzIGNvbnN0cnVjdG9yIFxyXG5cdCAqIFx0XHRcdFx0XHRcdHNob3VsZCBiZSBhbiBvYmplY3Qgd2l0aCB0d28gcHJvcGVydGllcyAoaXRlbXMgYW5kIHJlbmRlcmVyKS5cclxuXHRcdFx0XHRcdFx0XHQgVGhlIGl0ZW1zIHByb3BlcnR5IHNob3VsZCBiZSBhbiBhcnJheSBvZiBkYXRhLFxyXG5cdFx0XHRcdFx0XHRcdCB3aGljaCB5b3UgbXVzdCBhZGQgdG8gdGhlIHBhZ2Ugd2hlbiBpdCBsb2Fkcy5cclxuXHRcdFx0XHRcdFx0XHQgVGhlIHJlbmRlcmVyIHByb3BlcnR5IHNob3VsZCBiZSBhIGZ1bmN0aW9uIHRoYXQgY3JlYXRlc1xyXG5cdFx0XHRcdFx0XHRcdCBhbmQgYWRkcyBhIHNpbmdsZSBpdGVtIHRvIHRoZSBwYWdlLlxyXG5cdFx0XHRcdFx0XHRcdCBJdHMgc2Vjb25kIGNvbnN0cnVjdG9yIHBhcmFtZXRlciBzaG91bGQgYmUgYSBDU1NcclxuXHRcdFx0XHRcdFx0XHQgY2xhc3Mgc2VsZWN0b3Igd2hlcmUgdGhlIGNhcmQgZWxlbWVudHMgYXJlIGFkZGVkXHJcblx0ICogIFxyXG5cdCAqL1xyXG5cdGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcblx0XHR0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG5cdFx0dGhpcy5fcmVuZGVySXRlbXMgPSBpdGVtcztcclxuXHRcdHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG5cdH0gLy9lbmQgY29uc3RcclxuXHJcblx0LyoqXHJcblx0ICogRGVzY3JpcHRpb246ICBpdGVyYXRlIHRocm91Z2ggdGhlIGl0ZW1zIGFycmF5IGFuZCBjYWxsIHRoZSByZW5kZXJlcigpXHJcblx0ICogXHRcdFx0XHRcdFx0IGZ1bmN0aW9uIG9uIGVhY2ggaXRlbS5cclxuXHQgKi9cclxuXHRyZW5kZXJJdGVtcygpIHtcclxuXHRcdC8vdXNlIHRoaXMuX3JlbmRlcmVyIHRvIHJlbmRlciB0aGUgZGF0YSBpbnRvIHRoaXMuX2VsZW1lbnRcclxuXHRcdHRoaXMuX3JlbmRlckl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0dGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcblx0XHR9KTtcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0LyoqXHJcblx0ICogRGVzY3JpcHRpb246XHQgdGFrZXMgYSBET00gZWxlbWVudCBhbmQgYWRkcyBpdCB0byB0aGUgY29udGFpbmVyLlxyXG5cdCAqL1xyXG5cdGFkZEl0ZW1zKGl0ZW0pIHtcclxuXHRcdC8vdGFrZSB0aGUgaXRlbXMgYW5kIHJlbmRlciBpbiBpbnRvIHRoaXMuX2VsZW1lbnRcclxuXHRcdHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGl0ZW0pO1xyXG5cdH1cclxufSAvL2VuZCBjbGFzc1xyXG4iLCJjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcblx0e1xyXG5cdFx0bmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuXHRcdGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcclxuXHR9LFxyXG5cdHtcclxuXHRcdG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuXHRcdGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcclxuXHR9LFxyXG5cdHtcclxuXHRcdG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuXHRcdGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuXHR9LFxyXG5cdHtcclxuXHRcdG5hbWU6IFwiTGF0ZW1hclwiLFxyXG5cdFx0bGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXHJcblx0fSxcclxuXHR7XHJcblx0XHRuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG5cdFx0bGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3Zhbm9pc2UuanBnXCIsXHJcblx0fSxcclxuXHR7XHJcblx0XHRuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcblx0XHRsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGdcIixcclxuXHR9LFxyXG5dO1xyXG5cclxuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2pzLXByb2ZpbGUtZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IHByb2ZpbGVFZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2pzLXByb2ZpbGUtZWRpdC1tb2RhbFwiKTtcclxuY29uc3QgcHJvZmlsZUNsb3NlTW9kYWwgPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcblx0XCIjanMtcHJvZmlsZS1jbG9zZS1tb2RhbFwiXHJcbik7XHJcbmNvbnN0IHByb2ZpbGVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjanMtcHJvZmlsZS10aXRsZVwiKTtcclxuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNqcy1wcm9maWxlLWRlc2NyaXB0aW9uXCIpO1xyXG5jb25zdCBwcm9maWxlVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjanMtcHJvZmlsZS10aXRsZS1pbnB1dFwiKTtcclxuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFwiI2pzLXByb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIlxyXG4pO1xyXG5jb25zdCBwcm9maWxlRWRpdEZvcm0gPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjanMtbW9kYWwtZWRpdC1mb3JtXCIpO1xyXG5cclxuY29uc3QgY2FyZFRlbXBsYXRlID1cclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2pzLWNhcmQtdGVtcGxhdGVcIikuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZDtcclxuY29uc3QgY2FyZExpc3RFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNqcy1jYXJkX19saXN0XCIpO1xyXG5jb25zdCBhZGRDYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2pzLWFkZC1jYXJkLW1vZGFsXCIpO1xyXG5jb25zdCBhZGRDYXJkRm9ybSA9IGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2pzLW1vZGFsLWFkZC1jYXJkLWZvcm1cIik7XHJcbmNvbnN0IG5ld0NhcmRUaXRsZUlucHV0ID0gYWRkQ2FyZEZvcm0ucXVlcnlTZWxlY3RvcihcIiNqcy1hZGQtY2FyZC10aXRsZS1pbnB1dFwiKTtcclxuY29uc3QgbmV3Q2FyZFVybElucHV0ID0gYWRkQ2FyZEZvcm0ucXVlcnlTZWxlY3RvcihcclxuXHRcIiNqcy1hZGQtY2FyZC1kZXNjcmlwdGlvbi1pbnB1dFwiXHJcbik7XHJcblxyXG5jb25zdCBwcm9maWxlQWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjanMtcHJvZmlsZS1hZGQtYnV0dG9uXCIpO1xyXG5jb25zdCBhZGRDYXJkbW9kYWxDbG9zZUJ1dHRvbiA9IGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFxyXG5cdFwiI2pzLWFkZC1jYXJkLWNsb3NlLW1vZGFsXCJcclxuKTtcclxuXHJcbmNvbnN0IGltYWdlUHJldmlld01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNqcy1pbWFnZS1wcmV2aWV3LW1vZGFsXCIpO1xyXG5jb25zdCBpbWFnZUNsb3NlUHJldmlld01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcIiNqcy1pbWFnZS1wcmV2aWV3LWNsb3NlLW1vZGFsXCJcclxuKTtcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuXHRmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcblx0aW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2ZpZWxkXCIsXHJcblx0c3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcclxuXHRpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIi5tb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcblx0aW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvclwiLFxyXG5cdGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbmNvbnN0IGh0bWxJZHMgPSB7XHJcblx0Y2FyZExpc3Q6IFwiI2pzLWNhcmRfX2xpc3RcIixcclxuXHRjYXJkVGVtcGxhdGU6IFwiI2pzLWNhcmQtdGVtcGxhdGVcIixcclxuXHRhZGRDYXJkUG9wdXA6IFwiI2pzLWFkZC1jYXJkLW1vZGFsXCIsXHJcblx0aW1hZ2VQcmV2aWV3UG9wdXA6IFwiI2pzLWltYWdlLXByZXZpZXctbW9kYWxcIixcclxuXHRwcm9maWxlRWRpdFBvcHVwOiBcIiNqcy1wcm9maWxlLWVkaXQtbW9kYWxcIixcclxuXHRwcm9maWxlVGl0bGU6IFwiI2pzLXByb2ZpbGUtdGl0bGVcIixcclxuXHRwcm9maWxlRGVzY3JpcHRpb246IFwiI2pzLXByb2ZpbGUtZGVzY3JpcHRpb25cIixcclxufTtcclxuXHJcbi8vIEJ1bmRsZSB0aGUgdmFyaWFibGVzIGFuZCBvYmplY3RzIGludG8gYSBzaW5nbGUgb2JqZWN0XHJcbmNvbnN0IHV0aWxzID0ge1xyXG5cdHByb2ZpbGVFZGl0QnV0dG9uLFxyXG5cdHByb2ZpbGVFZGl0TW9kYWwsIC8vTk9UIFVTRURcclxuXHRwcm9maWxlQ2xvc2VNb2RhbCwgLy9OT1QgVVNFRFxyXG5cdHByb2ZpbGVUaXRsZSxcclxuXHRwcm9maWxlRGVzY3JpcHRpb24sXHJcblx0cHJvZmlsZVRpdGxlSW5wdXQsXHJcblx0cHJvZmlsZURlc2NyaXB0aW9uSW5wdXQsXHJcblx0cHJvZmlsZUVkaXRGb3JtLFxyXG5cdGNhcmRUZW1wbGF0ZSxcclxuXHRjYXJkTGlzdEVsZW1lbnQsIC8vTk9UIFVTRURcclxuXHRhZGRDYXJkTW9kYWwsIC8vTk9UIFVTRURcclxuXHRhZGRDYXJkRm9ybSxcclxuXHRuZXdDYXJkVGl0bGVJbnB1dCxcclxuXHRuZXdDYXJkVXJsSW5wdXQsXHJcblx0cHJvZmlsZUFkZENhcmRCdXR0b24sXHJcblx0YWRkQ2FyZG1vZGFsQ2xvc2VCdXR0b24sIC8vTk9UIFVTRURcclxuXHRpbWFnZVByZXZpZXdNb2RhbCwgLy9OT1QgVVNFRFxyXG5cdGltYWdlQ2xvc2VQcmV2aWV3TW9kYWwsIC8vTk9UIFVTRURcclxuXHRjb25maWcsXHJcblx0aW5pdGlhbENhcmRzLFxyXG5cdGh0bWxJZHMsXHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IHV0aWxzO1xyXG4iLCJpbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBEZWxldGVDb25maXJtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBEZWxldGVDb25maXJtLmpzXCI7XHJcbmltcG9ydCB1dGlscyBmcm9tIFwiLi4vVXRpbHMvQ29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xyXG5cclxuLy9BTEwgRk9STVMgVkFMSURBVElPTlNcclxudmFsaWRhdGVGb3Jtcyh1dGlscy5jb25maWcpO1xyXG5cclxuLy9VU0VSIElORk9cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG5cdHRpdGxlU2VsZWN0b3I6IHV0aWxzLmh0bWxJZHMucHJvZmlsZVRpdGxlLFxyXG5cdGRlc2NyaXB0aW9uU2VsZWN0b3I6IHV0aWxzLmh0bWxJZHMucHJvZmlsZURlc2NyaXB0aW9uLFxyXG5cdHByb2ZpbGVQaWN0dXJlU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2ltYWdlXCIsXHJcbn0pO1xyXG5cclxuY29uc3QgZGVsZXRlQ2FyZE1vZGFsID0gbmV3IFBvcHVwRGVsZXRlQ29uZmlybShcIiNqcy1jYXJkLWRlbGV0ZS1tb2RhbFwiKTtcclxuXHJcbi8vbmVlZCB0byBtYWtlIGEgY2hhbmdlIHBpY3R1cmUgcG9wIHVwIGh0bWxcclxuY29uc3QgZWRpdFByb2ZpbGVQaWN0dXJlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG5cdFwiI2pzLWVkaXQtcHJvZmlsZS1waWN0dXJlLW1vZGFsXCIsXHJcblx0aGFuZGxlRWRpdFByb2ZpbGVQaWN0dXJlXHJcbik7XHJcblxyXG4vKioqKioqIEFQSSBDQUxMUyoqKioqICovXHJcblxyXG4vL0NBUkQgU0VDVElPTlxyXG5cclxuY29uc3Qgb3B0cyA9IHtcclxuXHRiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcblx0aGVhZGVyczoge1xyXG5cdFx0YXV0aG9yaXphdGlvbjogXCJkNTBiYjU0Yi0xZWZjLTRiOGEtYTViMS0zZDVjNzJkNmExYjBcIixcclxuXHRcdFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG5cdH0sXHJcbn07XHJcbmxldCBzZWN0aW9uQ2FyZHM7XHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkob3B0cyk7XHJcblxyXG4vKiogMS4gR0VUIEFMTCBDQVJEUyBST1VURSAqL1xyXG5hcGkuZ2V0SW5pdGlhbENhcmRzKClcclxuXHQudGhlbigoZGF0YSkgPT4ge1xyXG5cdFx0Ly9oYW5kbGUgdGhlIHJlc3BvbnNlIGRhdGFcclxuXHRcdC8vIENyZWF0ZSBhIG5ldyBTZWN0aW9uIGluc3RhbmNlIHdpdGggdGhlIGZldGNoZWQgZGF0YSBhbmQgcmVuZGVyIHRoZSBpdGVtc1xyXG5cdFx0c2VjdGlvbkNhcmRzID0gbmV3IFNlY3Rpb24oXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpdGVtczogZGF0YSxcclxuXHRcdFx0XHRyZW5kZXJlcjogY3JlYXRlQ2FyZCxcclxuXHRcdFx0fSxcclxuXHRcdFx0dXRpbHMuaHRtbElkcy5jYXJkTGlzdFxyXG5cdFx0KTtcclxuXHRcdHNlY3Rpb25DYXJkcy5yZW5kZXJJdGVtcygpO1xyXG5cdH0pXHJcblx0LmNhdGNoKChlcnIpID0+IHtcclxuXHRcdGNvbnNvbGUuZXJyb3IoYEVycm9yIGdldHRpbmcgY2FyZHM6ICR7ZXJyfSBgKTtcclxuXHR9KTtcclxuXHJcbmFwaS5nZXRVc2VySW5mbygpXHJcblx0LnRoZW4oKHJlcykgPT4ge1xyXG5cdFx0dXNlckluZm8uc2V0VXNlckluZm8oe1xyXG5cdFx0XHRuYW1lOiByZXMubmFtZSxcclxuXHRcdFx0ZGVzY3JpcHRpb246IHJlcy5hYm91dCxcclxuXHRcdH0pO1xyXG5cdFx0dXNlckluZm8uc2V0UHJvZmlsZVBpY3R1cmUoe1xyXG5cdFx0XHRwcm9maWxlUGljdHVyZTogcmVzLmF2YXRhcixcclxuXHRcdH0pO1xyXG5cdH0pXHJcblx0LmNhdGNoKChlcnIpID0+IHtcclxuXHRcdGNvbnNvbGUubG9nKFwiRVJST1I6IFwiLCBlcnIpO1xyXG5cdFx0Y29uc29sZS5lcnJvcihlcnIpO1xyXG5cdH0pO1xyXG5cclxuLyoqXHJcbiAqIFBhcmFtOiB1c2VyRGF0YVxyXG4gKiBEZXNjcmlwdGlvbjpcdFNldHMgdGhlIGNoYW5nZS9lZGl0IG5hbWUvdGl0bGUgYW5kIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgcHJvZmlsZVxyXG4gKiBcdFx0XHRcdFx0VVBEQVRFIFVTRVIgUFJPRklMRSBJTkZPIFJPVVRFXHJcbiAqL1xyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlU3VibWl0Rm9ybSh1c2VyRGF0YSkge1xyXG5cdC8vIENhbGwgdGhlIHVwZGF0ZVVzZXJJbmZvIG1ldGhvZCBmcm9tIHRoZSBBcGkgY2xhc3NcclxuXHRwcm9maWxlRWRpdEZvcm0ucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuXHRhcGkudXBkYXRlVXNlckluZm8odXNlckRhdGEudGl0bGUsIHVzZXJEYXRhLmRlc2NyaXB0aW9uKVxyXG5cdFx0LnRoZW4oKCkgPT4ge1xyXG5cdFx0XHR1c2VySW5mby5zZXRVc2VySW5mbyh7XHJcblx0XHRcdFx0bmFtZTogdXNlckRhdGEudGl0bGUsXHJcblx0XHRcdFx0ZGVzY3JpcHRpb246IHVzZXJEYXRhLmRlc2NyaXB0aW9uLFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly91c2VySW5mby5zZXRQcm9maWxlUGljdHVyZSgge3Byb2ZpbGVQaWN0dXJlOiB1c2VyRGF0YS5hdmF0YXJ9KTtcclxuXHJcblx0XHRcdHByb2ZpbGVFZGl0Rm9ybS5jbG9zZSgpO1xyXG5cdFx0fSlcclxuXHRcdC5jYXRjaCgoZXJyKSA9PiB7XHJcblx0XHRcdC8vcHJvZmlsZUVkaXRGb3JtLnJlbmRlckxvYWRpbmcoZmFsc2UsIFwiU2F2ZVwiKTtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgdXBkYXRpbmcgbmV3IGluZm9ybWF0aW9uOiAke2Vycn1gKTtcclxuXHRcdH0pXHJcblx0XHQuZmluYWxseSgoKSA9PiB7XHJcblx0XHRcdHByb2ZpbGVFZGl0Rm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlLCBcIlNhdmVcIik7XHJcblx0XHR9KTtcclxufSAvL2VuZCBmdW5jXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDYXJkKGNhcmRFbGVtZW50LCBjYXJkSWQpIHtcclxuXHQvL29wZW4gZGVsZXRlIGNhcmQgbW9kYWwvcG9wdXBcclxuXHRkZWxldGVDYXJkTW9kYWwub3BlbigpO1xyXG5cclxuXHQvL3N1Ym1pdCBhY3Rpb25cclxuXHRkZWxldGVDYXJkTW9kYWwuc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcclxuXHRcdGRlbGV0ZUNhcmRNb2RhbC5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG5cdFx0YXBpLmRlbGV0ZUNhcmQoY2FyZElkKVxyXG5cdFx0XHQudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0ZGVsZXRlQ2FyZE1vZGFsLmNsb3NlKCk7XHJcblx0XHRcdFx0Y2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5jYXRjaCgoZXJyKSA9PiB7XHJcblx0XHRcdFx0Ly9kZWxldGVDYXJkTW9kYWwucmVuZGVyTG9hZGluZyhmYWxzZSwgXCJZZXNcIik7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQuZmluYWxseSgoKSA9PiB7XHJcblx0XHRcdFx0ZGVsZXRlQ2FyZE1vZGFsLnJlbmRlckxvYWRpbmcoZmFsc2UsIFwiWWVzXCIpO1xyXG5cdFx0XHR9KTtcclxuXHR9KTtcclxufSAvL2VuZCBmdW5jXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVFZGl0UHJvZmlsZVBpY3R1cmUoaW5wdXREYXRhKSB7XHJcblx0Ly9vcGVuIGVkaXQgcHJvZmlsZSBwaWN0dXJlIG1vZGFsIChhdmF0YXIpXHJcblx0ZWRpdFByb2ZpbGVQaWN0dXJlRm9ybS5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG5cdGFwaS51cGRhdGVVc2VySW1hZ2UoeyBhdmF0YXI6IGlucHV0RGF0YS51cmwgfSlcclxuXHRcdC50aGVuKChyZXMpID0+IHtcclxuXHRcdFx0dXNlckluZm8uc2V0UHJvZmlsZVBpY3R1cmUoeyBwcm9maWxlUGljdHVyZTogaW5wdXREYXRhLnVybCB9KTtcclxuXHRcdFx0ZWRpdFByb2ZpbGVQaWN0dXJlRm9ybS5jbG9zZSgpO1xyXG5cdFx0fSlcclxuXHRcdC5jYXRjaCgoZXJyKSA9PiB7XHJcblx0XHRcdC8vZWRpdFByb2ZpbGVQaWN0dXJlRm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlLCBcIlNhdmVcIik7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJQaWN0dXJlIE5vdCBVcGRhdGVcIiwgZXJyKTtcclxuXHRcdH0pXHJcblx0XHQuZmluYWxseSgoKSA9PiB7XHJcblx0XHRcdGVkaXRQcm9maWxlUGljdHVyZUZvcm0ucmVuZGVyTG9hZGluZyhmYWxzZSwgXCJTYXZlXCIpO1xyXG5cdFx0fSk7XHJcbn0gLy9lbmQgZnVuY1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZExpa2UoY2FyZCkge1xyXG5cdGlmIChjYXJkLmlzTGlrZWQpIHtcclxuXHRcdGFwaS5kaXNMaWtlQ2FyZChjYXJkLmRhdGEuX2lkKVxyXG5cdFx0XHQudGhlbigocmVzKSA9PiB7XHJcblx0XHRcdFx0Y2FyZC50b2dnbGVMaWtlKCk7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5jYXRjaCgoZXJyKSA9PiB7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xyXG5cdFx0XHR9KTtcclxuXHR9IC8vZW5kIGlmXHJcblx0ZWxzZSB7XHJcblx0XHRhcGkubGlrZUNhcmQoY2FyZC5kYXRhLl9pZClcclxuXHRcdFx0LnRoZW4oKHJlcykgPT4ge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiSW5zaWRlIGFwaS5saWtlQ2FyZFwiKTtcclxuXHRcdFx0XHRjYXJkLnRvZ2dsZUxpa2UoKTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LmNhdGNoKChlcnIpID0+IHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKGVycik7XHJcblx0XHRcdH0pO1xyXG5cdH0gLy9lbmQgZWxzZVxyXG59IC8vZW5kIGZ1bmNcclxuXHJcbi8qKl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXyAqL1xyXG5cclxuZGVsZXRlQ2FyZE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5lZGl0UHJvZmlsZVBpY3R1cmVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZU92ZXJsYXlJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFwiI2pzLWVkaXQtcHJvZmlsZS1vdmVybGF5X2ltZ1wiXHJcbik7XHJcblxyXG5lZGl0UHJvZmlsZU92ZXJsYXlJbWcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRjb25zb2xlLmxvZyhcImVkaXQgcHJvZmlsZSBQaWN0dXJlIEZvcm06IFwiLCBlZGl0UHJvZmlsZVBpY3R1cmVGb3JtKTsgLy9kZWJ1Z2luZ1xyXG5cclxuXHRlZGl0UHJvZmlsZVBpY3R1cmVGb3JtLm9wZW4oKTtcclxufSk7XHJcblxyXG4vL0VESVQgUFJPRklMRSBGT1JNXHJcbmNvbnN0IHByb2ZpbGVFZGl0Rm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG5cdHV0aWxzLmh0bWxJZHMucHJvZmlsZUVkaXRQb3B1cCxcclxuXHRoYW5kbGVQcm9maWxlU3VibWl0Rm9ybVxyXG4pO1xyXG5wcm9maWxlRWRpdEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbnV0aWxzLnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0Y29uc3QgY3VycmVudFVzZXIgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG5cdHV0aWxzLnByb2ZpbGVUaXRsZUlucHV0LnZhbHVlID0gY3VycmVudFVzZXIubmFtZTtcclxuXHR1dGlscy5wcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VyLmRlc2NyaXB0aW9uO1xyXG5cdHByb2ZpbGVFZGl0Rm9ybS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy9BREQgQ0FSRCBGT1JNXHJcbmNvbnN0IGFkZENhcmRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcblx0dXRpbHMuaHRtbElkcy5hZGRDYXJkUG9wdXAsXHJcblx0aGFuZGxlQWRkQ2FyZFN1Ym1pdEZvcm1cclxuKTtcclxuYWRkQ2FyZEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbnV0aWxzLnByb2ZpbGVBZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0YWRkQ2FyZEZvcm0ub3BlbigpO1xyXG59KTtcclxuXHJcbi8vUE9QIFVQIFdJVEggSU1BR0VcclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZSh1dGlscy5odG1sSWRzLmltYWdlUHJldmlld1BvcHVwKTtcclxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLyoqXHJcbiAqIFBhcmFtOiBjYXJkRGF0YVxyXG4gKiBEZXNjcmlwdGlvbjpcdGNhcmQgRGF0YSBpcyB1c2VkIHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBJbWFnZSBmb3JtIGZvciBkaXNwbGF5XHJcbiAqL1xyXG4vL0NhcmQgSW1hZ2UgUHJldmlld1xyXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGNhcmREYXRhKSB7XHJcblx0aW1hZ2VQb3B1cC5vcGVuKGNhcmREYXRhKTtcclxufSAvL2VuZCBmdW5jXHJcblxyXG4vL2NvbnN0IGRlbGV0ZUNhcmRQb3B1cCA9IHF1ZXJ5U2VsZWN0b3IoXCIjanMtY2FyZC1kZWxldGUtbW9kYWxcIik7XHJcblxyXG4vKipcclxuICogcGFyYW06IGRhdGFcclxuICogRGVzY3JpcHRpb246XHRUYWtlcyBhIGRhdGEgb2JqZWN0IHRoYXQgaXMgdXNlZCB0byBjcmVhdGUgYSBjYXJkIHdpdGggdGhlIENhcmQgb2JqZWN0XHJcbiAqIFx0XHRcdFx0XHRcdENhcmQgRWxlbWVudCBpcyBjcmVhdGVkIGFuZCBwYXNzZWQgYWxvbmcgdG8gdGhlIFNlY3Rpb24gb2JqZWN0XHJcbiAqIFx0XHRcdFx0XHRcdFNlY3Rpb24gb2JqZWN0IHZpc3VhbGx5IHB1dHMgdGhlIGNhcmQgb24gdGhlIHNjcmVlblxyXG4gKi9cclxuLy9mdW5jIHRvIG1ha2UgbmV3IGNhcmRcclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChkYXRhKSB7XHJcblx0Y29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKFxyXG5cdFx0ZGF0YSxcclxuXHRcdHV0aWxzLmh0bWxJZHMuY2FyZFRlbXBsYXRlLFxyXG5cdFx0aGFuZGxlSW1hZ2VDbGljayxcclxuXHRcdGhhbmRsZURlbGV0ZUNhcmQsXHJcblx0XHRoYW5kbGVDYXJkTGlrZVxyXG5cdCk7IC8vcGFzcyBuZXcgaW5mbyB0byBuZXcgY2FyZFxyXG5cdGNvbnN0IGVsZW1lbnRDYXJkID0gbmV3Q2FyZC5nZXRDYXJkKCk7XHJcblx0c2VjdGlvbkNhcmRzLmFkZEl0ZW1zKGVsZW1lbnRDYXJkKTtcclxufSAvL2VuZCBmdW5jXHJcblxyXG4vKipcclxuICogUGFyYW06IHNldHRpbmdzL2NvbmZpZ3VyYXRpb25zXHJcbiAqIERlc2NyaXB0aW9uOiBhbGwgZm9ybSB2YWxpZGF0aW9uIGluaXRpYWxpemUgZXhjZXB0IHRoZSBEZWxldGUgY29uZmlybWF0aW9uIGZvcm1cclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlRm9ybXMob3B0cykge1xyXG5cdC8vaW5pdGlhbGl6ZSBmb3Jtc1xyXG5cdGNvbnN0IGZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh1dGlscy5jb25maWcuZm9ybVNlbGVjdG9yKTsgLy9nZXRzIGFsbCBtb2RhbF9fZm9ybSwgaW4gTm9kZSBmb3JtXHJcblx0bGV0IGZvcm1BcnJheSA9IEFycmF5LmZyb20oZm9ybXMpOyAvL05vZGUgZm9ybXMgY29udmVydGVkIHRvIGFycmF5XHJcblx0Zm9ybUFycmF5ID0gZm9ybUFycmF5LmZpbHRlcigoZm9ybXMpID0+IGZvcm1zLmlkICE9PSBcImpzLWRlbGV0ZS1mb3JtXCIpOyAvL2RlbGV0ZSBmb3JtIHJlbW92ZWQgZnJvbSBhcnJheSBiZWNhdXNlIGl0IGRvZXMgbm90IG5lZWQgdmFsZGlhdGlvblxyXG5cdGZvcm1BcnJheS5mb3JFYWNoKChmb3JtKSA9PiB7XHJcblx0XHRjb25zdCB2YWxpZGF0ZUZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihvcHRzLCBmb3JtKTtcclxuXHRcdHZhbGlkYXRlRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblx0fSk7XHJcbn0gLy9lbmQgZnVuY1xyXG5cclxuLyoqXHJcbiAqIERlc2NyaXB0aW9uOlx0QWRkcyBhIG5ldyBjYXJkIGV2ZXJ5dGltZSB0aGUgKyBidXR0b24gaXMgY2xpY2tlZFxyXG4gKi9cclxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZFN1Ym1pdEZvcm0oY2FyZERhdGEpIHtcclxuXHQvLyBTZW5kIGEgUE9TVCByZXF1ZXN0IHRvIGFkZCBhIG5ldyBjYXJkIHRvIHRoZSBzZXJ2ZXJcclxuXHRhZGRDYXJkRm9ybS5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG5cdGFwaS5jcmVhdGVDYXJkKHsgbmFtZTogY2FyZERhdGEudGl0bGUsIGxpbms6IGNhcmREYXRhLnVybCB9KVxyXG5cdFx0LnRoZW4oKG5ld0NhcmQpID0+IHtcclxuXHRcdFx0Y3JlYXRlQ2FyZChuZXdDYXJkKTsgLy8gUmVuZGVyIHRoZSBuZXdseSBjcmVhdGVkIGNhcmRcclxuXHRcdFx0YWRkQ2FyZEZvcm0uY2xvc2UoKTsgLy8gQ2xvc2UgdGhlIGFkZCBjYXJkIGZvcm1cclxuXHRcdH0pXHJcblx0XHQuY2F0Y2goKGVycikgPT4ge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKGBFcnJvciBhZGRpbmcgbmV3IENhcmQ6ICR7ZXJyfWApO1xyXG5cdFx0fSlcclxuXHRcdC5maW5hbGx5KCgpID0+IHtcclxuXHRcdFx0YWRkQ2FyZEZvcm0ucmVuZGVyTG9hZGluZyhmYWxzZSwgXCJTYXZlXCIpO1xyXG5cdFx0fSk7XHJcbn0gLy9lbmQgZnVuY1xyXG4iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xyXG5cdC8qKlxyXG5cdCAqIHBhcmFtOiB0aXRsZVNlbGVjdG9yLCBkZXNjcmlwdGlvblNlbGVjdG9yXHJcblx0ICogRGVzY3JpcHRpb246XHRUYWtlIGFuIG9iamVjdCB3aXRoIHRoZSBzZWxlY3RvcnNcclxuXHQgKiBcdFx0XHRcdFx0XHQgb2YgdHdvIGVsZW1lbnRzIGludG8gdGhlIGNvbnN0cnVjdG9yOlxyXG5cdCAqIFx0XHRcdFx0XHRcdCBvbmUgZm9yIHRoZSBwcm9maWxl4oCZcyBuYW1lIGVsZW1lbnRcclxuXHQgKiBcdFx0XHRcdFx0XHQgYW5kIG9uZSBmb3IgaXRzIGpvYiBlbGVtZW50LlxyXG5cdCAqL1xyXG5cdGNvbnN0cnVjdG9yKHtcclxuXHRcdHRpdGxlU2VsZWN0b3IsXHJcblx0XHRkZXNjcmlwdGlvblNlbGVjdG9yLFxyXG5cdFx0cHJvZmlsZVBpY3R1cmVTZWxlY3RvcixcclxuXHR9KSB7XHJcblx0XHR0aGlzLl90aXRsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRpdGxlU2VsZWN0b3IpO1xyXG5cdFx0dGhpcy5fZGVzY3JpcHRpb25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkZXNjcmlwdGlvblNlbGVjdG9yKTtcclxuXHRcdHRoaXMuX3Byb2ZpbGVQaWN0dXJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdHByb2ZpbGVQaWN0dXJlU2VsZWN0b3JcclxuXHRcdCk7XHJcblx0XHQvL2NvbnNvbGUubG9nKFwiaW4gVXNlckluZm8uanM6IHByb2ZpbGVQaWN0dXJlU2VsZWN0b3I6IFwiLCB0aGlzLl9wcm9maWxlUGljdHVyZUVsZW1lbnQpO1x0Ly9kZWJ1Z2dpbmdcclxuXHR9IC8vZW5kIGNvbnN0XHJcblxyXG5cdC8qKlxyXG5cdCAqIERlc2NyaXB0aW9uOlx0VGhpcyBtZXRob2Qgd2lsbCBiZSBoYW5keSBmb3IgY2FzZXMgd2hlbiBpdCdzIG5lY2Vzc2FyeVxyXG5cdCAqIFx0XHRcdFx0XHRcdCB0byBkaXNwbGF5IHRoZSB1c2VyIGRhdGEgaW4gdGhlIG9wZW4gZm9ybS5cclxuXHQgKiByZXR1cm5zOlx0IHJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXJcclxuXHQgKiBcdFx0XHRcdGkuZS4gbmFtZSBhbmQgZGVzY3JpcHRpb24vYWJvdXRcclxuXHQgKi9cclxuXHRnZXRVc2VySW5mbygpIHtcclxuXHRcdC8vY29uc29sZS5sb2coXCJpbnNpZGUgZ2V0VXNlckluZm8oKTogXCIsIHRoaXMuX3RpdGxlRWxlbWVudC50ZXh0Q29udGVudCk7IC8vZGVidWdnaW5nXHJcblxyXG5cdFx0dGhpcy5fdXNlckluZm8gPSB7XHJcblx0XHRcdG5hbWU6IHRoaXMuX3RpdGxlRWxlbWVudC50ZXh0Q29udGVudCxcclxuXHRcdFx0ZGVzY3JpcHRpb246IHRoaXMuX2Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCxcclxuXHRcdFx0YXZhdGFyOiB0aGlzLl9wcm9maWxlUGljdHVyZUVsZW1lbnQuc3JjLFxyXG5cdFx0fTsgLy9lbmQgb2JqZWN0XHJcblx0XHRjb25zb2xlLmxvZyhcIkluc2lkZSBnZXRVU2VySW5mbzogXCIsIHRoaXMuX3VzZXJJbmZvKTtcdC8vZGVidWdnaW5nXHJcblxyXG5cdFx0Ly9jb25zb2xlLmxvZyhcImluc2lkZSBnZXRVc2VySW5mbygpLCB1c2VySW5mbyBuYW1lOiBcIiwgdGhpcy5fdXNlckluZm8ubmFtZSk7IC8vZGVidWdnaW5nXHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuX3VzZXJJbmZvO1xyXG5cdH0gLy9lbmQgZnVuY1xyXG5cclxuXHQvKipcclxuXHQgKiBEZXNjcmlwdGlvbjpcdCB0YWtlcyBuZXcgdXNlciBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBwYWdlLlxyXG5cdCAqIFx0XHRcdFx0XHRcdCBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBhZnRlciBzdWNjZXNzZnVsXHJcblx0ICogXHRcdFx0XHRcdFx0c3VibWlzc2lvbiBvZiB0aGUgcHJvZmlsZSBmb3JtLlxyXG5cdCAqL1xyXG5cdHNldFVzZXJJbmZvKHsgbmFtZSwgZGVzY3JpcHRpb24gfSkge1xyXG5cdFx0dGhpcy5fdGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcclxuXHRcdHRoaXMuX2Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IGRlc2NyaXB0aW9uO1xyXG5cdH0gLy9lbmQgZnVuY1xyXG5cclxuXHRzZXRQcm9maWxlUGljdHVyZSh7IHByb2ZpbGVQaWN0dXJlIH0pIHtcclxuXHRcdHRoaXMuX3Byb2ZpbGVQaWN0dXJlRWxlbWVudC5zcmMgPSBwcm9maWxlUGljdHVyZTtcclxuXHR9XHJcbn0gLy9lbmQgY2xhc3NcclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwRGVsZXRlQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcclxuXHQvKipcclxuXHQgKiBBdHRyaWJ1dGUgaW5zaWRlIGNvbnN0cnVjdG9yOiBwb3B1cEZvcm0gaXMgYXNzaWduZWQgZnJvbSB0aGUgcGFyZW50XHJcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3MgcG9wdXBFbGVtZW50IHdpdGggdGhlIElEXHJcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0IGJ1dHRvbiBmcm9tIHRoZSBmb3JtIGJ1dHRvbiBJRFxyXG5cdCAqIHBhcmFtICBwb3B1cFNlbGVjdG9yOiBkZWxldGUgY2FyZCBmb3JtIHNlbGVjdG9yXHJcblx0ICovXHJcblx0Y29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG5cdFx0c3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblxyXG5cdFx0Ly90aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNqcy1lZGl0LXByb2ZpbGUtcGljdHVyZS1tb2RhbFwiKTtcclxuXHJcblx0XHR0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNqcy1kZWxldGUtZm9ybVwiKTtcclxuXHRcdHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XHJcblx0XHR0aGlzLl9zdWJtaXRCdG5UZXh0ID0gdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50O1xyXG5cdH0gLy9lbmQgY29uc3RydWN0b3JcclxuXHJcblx0LyoqXHJcblx0ICogcGFyYW06IGFjdGlvbkZ1bmNcclxuXHQgKiBEZXNjcmlwdGlvbjogdGhlIHNldCBzdWJtaXQgYWN0aW9uIGZ1bmN0aW9uIHRha2VzIGEgZnVuY3Rpb24gYXMgcGFyYW1ldGVyXHJcblx0ICogICAgICAgICAgICAgICAgICAgICAgdGhhdCBpcyBhc3NpZ25lZCB0byB0aGUgb2JqZWN0cyBoYW5kbGUgc3VibWl0IGZvcm1cclxuXHQgKi9cclxuXHRzZXRTdWJtaXRBY3Rpb24oYWN0aW9uRnVuYykge1xyXG5cdFx0dGhpcy5faGFuZGxlU3VibWl0Rm9ybSA9IGFjdGlvbkZ1bmM7XHJcblx0fSAvL2VuZCBmdW5jXHJcblxyXG5cdC8qKlxyXG5cdCAqIERlc2NyaXB0aW9uOiBzdWJtaXQgYnV0dG9uIGhhcyBhbiBldmVudCBsaXN0ZW5lciBmb3IgdGhlIHN1Ym1pdC5cclxuXHQgKi9cclxuXHRzZXRFdmVudExpc3RlbmVycygpIHtcclxuXHRcdHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0oKTtcclxuXHRcdH0pO1xyXG5cdFx0c3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0LyoqXHJcblx0ICogUGFyYW1zOiBpc0xvYWRpbmcsIGxvYWRpbmdUZXh0XHJcblx0ICogRGVzY3JpcHRpb246XHRpc0xvYWRpbmcgaXMgYSBib29sZWFuIHZhbHVlIHVzZWQgdG8gY2hhbmdlIHRoZSB0ZXh0IG9mIHRoZSBzdWJtaXQgYnV0dG9uIHdoZW4gY2FsbHNcclxuXHQgKiBcdFx0XHRcdFx0XHRtYWRlIHRvL2Zyb20gQXBpXHJcblx0ICogXHRcdFx0XHRcdFx0bG9hZGluZ1RleHQgaXMgYSBzdHJpbmcgdGhhdCBsZXRzIHRoZSB1c2VyIGtub3cgdGhhdCByZXF1ZXN0IGlzIGJlaW5nIHdvcmtlZCBvblxyXG5cdCAqIFx0XHRcdFx0XHRcdGluIHRoZSBiYWNrXHJcblx0ICovXHJcblx0cmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0ID0gXCJEZWxldGluZy4uLlwiKSB7XHJcblx0XHRpZiAoIWlzTG9hZGluZykge1xyXG5cdFx0XHR0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdG5UZXh0O1xyXG5cdFx0fSAvL2VuZCBpZlxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdHRoaXMuX3N1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xyXG5cdFx0fSAvL2VuZCBlbHNlXHJcblx0fSAvL2VuZCBmdW5jXHJcbn0gLy9lbmQgY2xhc3NcclxuIiwiZXhwb3J0IGNsYXNzIEFwaSB7XHJcblx0LyoqXHJcblx0ICogcGFyYW06IG9wdGlvbnNcclxuXHQgKiBEZXNjcmlwdGlvbjogY29uc3RydWN0b3IgdGFrZXMgYSBvcHRpb25zIG9iaiB0aGF0IGNhcnJpZXMgYSBiYWUgdXJsXHJcblx0ICogICAgICAgICAgICAgICAgICAgICAgYW5kIGhlYWRlcnMgdGhhdCBjb250YWluIGF1dGggYW5kIGNvbnRlbnQtdHlwZVxyXG5cdCAqL1xyXG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuXHRcdHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XHJcblx0XHR0aGlzLl9oZWFkZXIgPSBvcHRpb25zLmhlYWRlcnM7XHJcblx0fSAvL2VuZCBjb25zdHJ1Y3RvclxyXG5cclxuXHQvLyBIZWxwZXIgZnVuY3Rpb24gdG8gaGFuZGxlIGZldGNoIHJlc3BvbnNlIGFuZCBlcnJvcnNcclxuXHRfaGFuZGxlUmVzcG9uc2UocmVzKSB7XHJcblx0XHRpZiAocmVzLm9rKSB7XHJcblx0XHRcdHJldHVybiByZXMuanNvbigpO1xyXG5cdFx0fSAvL2VuZCBpZlxyXG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG5cdH0gLy9lbmQgZnVuY1xyXG5cclxuXHQvKioqKioqKioqKioqKioqKkNhcmQgcm91dGVzKioqKioqKioqKioqKioqL1xyXG5cdC8vIDEuIEdFVCAvY2FyZHMg4oCTIEdldCBhbGwgY2FyZHNcclxuXHQvKipcclxuXHQgKiBEZXNjcmlwdGlvbjogZ2V0cyBhbGwgaW5pdGlhbCBjYXJkcyBmb3JtIHVybFxyXG5cdCAqICAgICAgICAgICAgICAgICAgICAgIGpzb24gb2JqIHJldHVybmVkIGlmIHN0YXR1cyAyMDBcclxuXHQgKi9cclxuXHRnZXRJbml0aWFsQ2FyZHMoKSB7XHJcblx0XHRyZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcblx0XHRcdG1ldGhvZDogXCJHRVRcIixcclxuXHRcdFx0aGVhZGVyczogdGhpcy5faGVhZGVyLFxyXG5cdFx0fSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XHJcblx0fSAvL2VuZCBmdW5jXHJcblxyXG5cdC8vIDIuIFBPU1QgL2NhcmRzIOKAkyBDcmVhdGUgYSBjYXJkXHJcblx0LyoqXHJcblx0ICpcclxuXHQgKiBwYXJhbTogbmFtZSwgdXJsL2xpbmtcclxuXHQgKiBEZXNjcmlwdGlvbjogdGFrZXMgdGhlIHRpdGxlIG9mIHRoZSBjYXJkIGFuZCBhIHVybFxyXG5cdCAqICAgICAgICAgICAgICAgICAgICAgIG1ha2VzIGEgUE9TVCByZXF1ZXN0IHRvIGFkZCBjYXJkIG9uIHNlcnZlclxyXG5cdCAqL1xyXG5cdGNyZWF0ZUNhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuXHRcdFx0bWV0aG9kOiBcIlBPU1RcIixcclxuXHRcdFx0aGVhZGVyczogdGhpcy5faGVhZGVyLFxyXG5cdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGxpbmsgfSksXHJcblx0XHR9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0Ly8gMy4gREVMRVRFIC9jYXJkcy86Y2FyZElkIOKAkyBEZWxldGUgYSBjYXJkXHJcblx0ZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcblx0XHRcdG1ldGhvZDogXCJERUxFVEVcIixcclxuXHRcdFx0aGVhZGVyczogdGhpcy5faGVhZGVyLFxyXG5cdFx0fSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XHJcblx0fSAvL2VuZCBmdW5jXHJcblxyXG5cdC8vIDQuIFBVVCAvY2FyZHMvOmNhcmRJZC9saWtlcyDigJMgTGlrZSBhIGNhcmRcclxuXHRsaWtlQ2FyZChjYXJkSWQpIHtcclxuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcblx0XHRcdG1ldGhvZDogXCJQVVRcIixcclxuXHRcdFx0aGVhZGVyczogdGhpcy5faGVhZGVyLFxyXG5cdFx0fSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XHJcblx0fVxyXG5cclxuXHQvLyA1LiBERUxFVEUgL2NhcmRzLzpjYXJkSWQvbGlrZXMg4oCTIERpc2xpa2UgYSBjYXJkXHJcblx0ZGlzTGlrZUNhcmQoY2FyZElkKSB7XHJcblx0XHRyZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG5cdFx0XHRtZXRob2Q6IFwiREVMRVRFXCIsXHJcblx0XHRcdGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcclxuXHRcdH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xyXG5cdH1cclxuXHJcblx0LyoqKioqKioqKlVzZXIgcm91dGVzKioqKioqKioqKioqKioqKioqICovXHJcblx0Ly8gNi4gR0VUIC91c2Vycy9tZSDigJMgR2V0IHRoZSBjdXJyZW50IHVzZXLigJlzIGluZm9cclxuXHRnZXRVc2VySW5mbygpIHtcclxuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuXHRcdFx0bWV0aG9kOiBcIkdFVFwiLFxyXG5cdFx0XHRoZWFkZXJzOiB0aGlzLl9oZWFkZXIsXHJcblx0XHR9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0Ly8gNy4gUEFUQ0ggL3VzZXJzL21lIOKAkyBVcGRhdGUgeW91ciBwcm9maWxlIGluZm9ybWF0aW9uXHJcblx0dXBkYXRlVXNlckluZm8obmFtZSwgZGVzY3JpcHRpb24pIHtcclxuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuXHRcdFx0bWV0aG9kOiBcIlBBVENIXCIsXHJcblx0XHRcdGhlYWRlcnM6IHRoaXMuX2hlYWRlcixcclxuXHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBhYm91dDogZGVzY3JpcHRpb24gfSksXHJcblx0XHR9KTtcclxuXHR9IC8vZW5kIGZ1bmNcclxuXHJcblx0Ly8gOC4gUEFUQ0ggL3VzZXJzL21lL2F2YXRhciDigJMgVXBkYXRlIGF2YXRhclxyXG5cdHVwZGF0ZVVzZXJJbWFnZSh1cmwpIHtcclxuXHRcdC8vZGVidWdnZXI7XHJcblx0XHRyZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG5cdFx0XHRtZXRob2Q6IFwiUEFUQ0hcIixcclxuXHRcdFx0aGVhZGVyczogdGhpcy5faGVhZGVyLFxyXG5cdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeSh1cmwpLFxyXG5cdFx0fSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XHJcblx0fSAvL2VuZCBmdW5jXHJcbn0gLy9lbmQgY2xhc3NcclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG5cdC8qKlxyXG5cdCAqIFBhcmFtOiB0aGUgaW1hZ2UgcHJldmlldyBzZWxlY3RvcjogI2pzLWltYWdlLXByZXZpZXctbW9kYWxcclxuXHQgKiBEZXNjcmlwdGlvbjogY29uc3RydWN0b3JzIHRha2VzIGltYWdlIHByZXZpZXcgc2VsZWN0b3IsIHVzZXMgdGhlIHBhcmVudCBjbGFzc1xyXG5cdCAqIFx0XHRcdFx0XHRcdGNvbnN0cnVjdG9yIHRvIHNldCB0aGUgc2VsZWN0b3IuIGluIGFkZGl0aW9uIHNldCB0aGUgaW1hZ2VcclxuXHQgKiBcdFx0XHRcdFx0XHRhbmQgdGl0bGUgc2VsZWN0b3JcclxuXHQgKi9cclxuXHRjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcblx0XHRzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuXHRcdHRoaXMuX2ltZyA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2pzLWNhcmRfX2ltYWdlXCIpO1xyXG5cdFx0dGhpcy5fdGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdFx0XCIjanMtaW1hZ2UtcHJldmlldy1jYXJkLXRpdGxlXCJcclxuXHRcdCk7XHJcblx0fSAvL2VuZCBjb25zdFxyXG5cclxuXHQvKipcclxuXHQgKiBQYXJhbXM6IGRhdGFcclxuXHQgKiBEZXNjcmlwdGlvbjogZGF0YSBjb250YWlucyB0aGUgY2FyZCB0aXRsZSBhbmQgdGhlIGltYWdlIGxpbmtcclxuXHQgKiBcdFx0XHRcdFx0XHRpbWFnZSBzY3IgYW5kIG5hbWUgaXMgc2V0IGJlZm9yZSB0aGUgUGFyZW50IGNsYXNzIG9wZW4gZnVuYyB1c2VkLlxyXG5cdCAqL1xyXG5cdG9wZW4oZGF0YSkge1xyXG5cdFx0dGhpcy5faW1nLnNyYyA9IGRhdGEubGluaztcclxuXHRcdHRoaXMuX2ltZy5hbHQgPSBkYXRhLm5hbWU7XHJcblx0XHR0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuXHRcdHN1cGVyLm9wZW4oKTtcclxuXHR9IC8vZW5kIGZ1bmNcclxufSAvL2VuZCBjbGFzc1xyXG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVDYXJkIiwiaGFuZGxlTGlrZUNhcmQiLCJ0aGlzIiwiX3NlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9oYW5kbGVMaWtlQ2FyZCIsIl9jYXJkSWQiLCJfaWQiLCJpc0xpa2VkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX3NldExpa2VIYW5kbGVyIiwiX3NldERlbGV0ZUhhbmRsZXIiLCJfc2V0SW1hZ2VDbGlja0hhbmRsZXIiLCJnZXRDYXJkIiwiX2NhcmRFbCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImNsb25lTm9kZSIsImNhcmRJbWFnZUVsZW1lbnQiLCJjYXJkVGl0bGVFbGVtZW50Iiwic3JjIiwibGluayIsImFsdCIsIm5hbWUiLCJfbGlrZUJ0biIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsInRvZ2dsZUxpa2UiLCJjb25zb2xlIiwibG9nIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2NvbmZpZyIsIl9mb3JtIiwiZW5hYmxlVmFsaWRhdGlvbiIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiX2Rpc2FibGVkQnV0dG9uIiwiX2lucHV0RWxlbWVudHMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b24iLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImZvckVhY2giLCJpbnB1dEVsIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja1ZhbGlkaXR5IiwiZXZlcnkiLCJpbnB1dCIsInZhbGlkaXR5IiwidmFsaWQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfZW5hYmxlZEJ1dHRvbiIsImlucHV0RWxzIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlRWxlbWVudCIsImlkIiwiaW5wdXRFcnJvckNsYXNzIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvckNsYXNzIiwiUG9wdXAiLCJwb3BVcFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9jbG9zZUJ1dHRvbiIsIm9wZW4iLCJfaGFuZGxlQ2xvc2VFc2NQcmVzc0Rvd24iLCJfaGFuZGxlQ2xvc2VNb3VzZUNsaWNrIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInNldEV2ZW50TGlzdGVuZXJzIiwiUG9wdXBXaXRoRm9ybSIsInBvcHVwU2VsZWN0b3IiLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtRWwiLCJfc3VibWl0QnRuIiwiX3N1Ym1pdEJ0blRleHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsInZhbHVlIiwicmVzZXQiLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9yZW5kZXJJdGVtcyIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtcyIsInByZXBlbmQiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVFZGl0TW9kYWwiLCJwcm9maWxlQ2xvc2VNb2RhbCIsInByb2ZpbGVUaXRsZSIsInByb2ZpbGVEZXNjcmlwdGlvbiIsInByb2ZpbGVUaXRsZUlucHV0IiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJwcm9maWxlRWRpdEZvcm0iLCJjYXJkVGVtcGxhdGUiLCJjYXJkTGlzdEVsZW1lbnQiLCJhZGRDYXJkTW9kYWwiLCJhZGRDYXJkRm9ybSIsIm5ld0NhcmRUaXRsZUlucHV0IiwibmV3Q2FyZFVybElucHV0IiwicHJvZmlsZUFkZENhcmRCdXR0b24iLCJhZGRDYXJkbW9kYWxDbG9zZUJ1dHRvbiIsImltYWdlUHJldmlld01vZGFsIiwiaW1hZ2VDbG9zZVByZXZpZXdNb2RhbCIsImZvcm1TZWxlY3RvciIsImluaXRpYWxDYXJkcyIsImh0bWxJZHMiLCJjYXJkTGlzdCIsImFkZENhcmRQb3B1cCIsImltYWdlUHJldmlld1BvcHVwIiwicHJvZmlsZUVkaXRQb3B1cCIsIm9wdHMiLCJmb3JtcyIsInV0aWxzIiwiZm9ybUFycmF5IiwiZmlsdGVyIiwiZm9ybSIsInZhbGlkYXRlRm9ybXMiLCJ1c2VySW5mbyIsInRpdGxlU2VsZWN0b3IiLCJkZXNjcmlwdGlvblNlbGVjdG9yIiwicHJvZmlsZVBpY3R1cmVTZWxlY3RvciIsIl90aXRsZUVsZW1lbnQiLCJfZGVzY3JpcHRpb25FbGVtZW50IiwiX3Byb2ZpbGVQaWN0dXJlRWxlbWVudCIsImdldFVzZXJJbmZvIiwiX3VzZXJJbmZvIiwiZGVzY3JpcHRpb24iLCJhdmF0YXIiLCJzZXRVc2VySW5mbyIsIl9yZWYyIiwic2V0UHJvZmlsZVBpY3R1cmUiLCJfcmVmMyIsInByb2ZpbGVQaWN0dXJlIiwiZGVsZXRlQ2FyZE1vZGFsIiwiX3BvcHVwRm9ybSIsInNldFN1Ym1pdEFjdGlvbiIsImFjdGlvbkZ1bmMiLCJfaGFuZGxlU3VibWl0Rm9ybSIsImVkaXRQcm9maWxlUGljdHVyZUZvcm0iLCJpbnB1dERhdGEiLCJhcGkiLCJ1cGRhdGVVc2VySW1hZ2UiLCJ1cmwiLCJ0aGVuIiwicmVzIiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsImZpbmFsbHkiLCJzZWN0aW9uQ2FyZHMiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlciIsImhlYWRlcnMiLCJfaGFuZGxlUmVzcG9uc2UiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJtZXRob2QiLCJjcmVhdGVDYXJkIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwibGlrZUNhcmQiLCJkaXNMaWtlQ2FyZCIsInVwZGF0ZVVzZXJJbmZvIiwiYWJvdXQiLCJhdXRob3JpemF0aW9uIiwiY2FyZEVsZW1lbnQiLCJoYW5kbGVDYXJkTGlrZSIsImNhcmQiLCJ1c2VyRGF0YSIsInRpdGxlIiwiY3VycmVudFVzZXIiLCJjYXJkRGF0YSIsIm5ld0NhcmQiLCJpbWFnZVBvcHVwIiwiX2ltZyIsIl90aXRsZSIsImVsZW1lbnRDYXJkIl0sInNvdXJjZVJvb3QiOiIifQ==